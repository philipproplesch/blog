<!DOCTYPE html><html lang="en-us"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>SQL Server: Ausgesperrt! | philip { proplesch }</title><meta name="description"><meta name="generator" content="philip { proplesch }"><meta name="author" content="Philip Proplesch"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1,user-scalable=0"><link rel="stylesheet" type="text/css" href="/styles/screen.css"><link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml"></head><body itemscope itemtype="https://schema.org/WebPage"><header itemscope itemtype="https://schema.org/WPHeader"><a href="/"><img src="/images/me.jpg" alt="philip { proplesch }" title="philip { proplesch }" style="border-radius: 50px"></a><h1><a href="/" alt="philip { proplesch }" title="philip { proplesch }" itemprop="headline">philip { proplesch }</a></h1><p itemprop="description"></p><nav itemscope itemtype="https://schema.org/SiteNavigationElement"><ul><li itemprop="name"><a href="/" alt="Home" title="Home" itemprop="url">Home</a></li><li itemprop="name"><a href="/atom.xml" alt="Feed" title="Feed" itemprop="url">Feed</a></li></ul></nav><div class="space"></div></header><main itemscope itemtype="https://schema.org/Blog"><article class="full"><h1 itemprop="headline">SQL Server: Ausgesperrt!</h1><span class="post-meta">Published on<time itemprop="datePublished" datetime="2012-04-12T04:00:00.000Z"> Thursday, April 12th 2012</time></span><p>Die Tage wollte ich eine neue Datenbank in meinem lokalen <a href="http://www.microsoft.com/en-us/sqlserver/default.aspx" target="_blank" rel="external">SQL Server</a> anlegen. Eigentlich keine wilde Sache: Management Studio auf, Verbindung mittels <strong>Windows Authentication</strong> herstellen, Datenbank anglegen, ggfs. Rechte vergeben, Management Studio zu. Fertig!</p>
<p>Dieses Mal erhielt ich jedoch beim Versuch die Datenbank anzulegen die Meldung: <code>CREATE DATABASE permission denied in database &#39;master&#39;</code>.</p>
<p><img src="/images/sql_no_permissions_1.png" alt=""></p>
<p>Grund für dieses Problem war die Tatsache, dass mein Windows-User – warum auch immer – nicht mehr Mitglied der Rolle <strong>sysadmin</strong> war.</p>
<p>Falls das Post-it mit dem Passwort des sa-Users nicht mehr am Monitor klebt, bleibt wahrscheinlich nur noch eine Neuinstallation. </p>
<p>Alternativ könnte es auch mit den folgenden Schritten funktionieren:</p>
<h4 id="Dienst-des-SQL-Server-beenden"><a href="#Dienst-des-SQL-Server-beenden" class="headerlink" title="Dienst des SQL Server beenden"></a>Dienst des SQL Server beenden</h4><p><img src="/images/sql_no_permissions_2.png" alt=""></p>
<h4 id="Instanz-uber-die-Konsole-starten"><a href="#Instanz-uber-die-Konsole-starten" class="headerlink" title="Instanz über die Konsole starten"></a>Instanz über die Konsole starten</h4><p><img src="/images/sql_no_permissions_3.png" alt=""></p>
<h4 id="In-einer-weiteren-Konsole-eine-Verbindung-zum-Server-herstellen"><a href="#In-einer-weiteren-Konsole-eine-Verbindung-zum-Server-herstellen" class="headerlink" title="In einer weiteren Konsole eine Verbindung zum Server herstellen"></a>In einer weiteren Konsole eine Verbindung zum Server herstellen</h4><p><img src="/images/sql_no_permissions_4.png" alt=""></p>
<h4 id="Den-User-zur-oben-genannten-sysadmin-Rolle-hinzufugen"><a href="#Den-User-zur-oben-genannten-sysadmin-Rolle-hinzufugen" class="headerlink" title="Den User zur oben genannten sysadmin-Rolle hinzufügen"></a>Den User zur oben genannten <strong>sysadmin</strong>-Rolle hinzufügen</h4><p><img src="/images/sql_no_permissions_5.png" alt=""></p>
<h4 id="Die-Stored-Procedure-mittels-GO-ausfuhren"><a href="#Die-Stored-Procedure-mittels-GO-ausfuhren" class="headerlink" title="Die Stored Procedure mittels GO ausführen"></a>Die Stored Procedure mittels <strong>GO</strong> ausführen</h4><p><img src="/images/sql_no_permissions_6.png" alt=""></p>
<p>Abschließend die Konsolen schließen, den Dienst wieder starten und die Datenbank wie gewohnt anlegen.</p>
</article></main><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
e=o.createElement(i);r=o.getElementsByTagName(i)[0];
e.src='//www.google-analytics.com/analytics.js';
r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
ga('create','UA-10099262-1');ga('send','pageview');</script></body></html>